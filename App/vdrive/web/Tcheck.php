/*Copyright (c) <2014> Author Vance King Saxbe. A, and contributors Power Dominion Enterprise, Precieux Consulting and other contributors. Modelled, Architected and designed by Vance King Saxbe. A. with the geeks from GoldSax Consulting and GoldSax Technologies email @vsaxbe@yahoo.com. Development teams from Power Dominion Enterprise, Precieux Consulting. Project sponsored by GoldSax Foundation, GoldSax Group and executed by GoldSax Manager.*/

$date = "4/26/2012";
$sc[0] = 'ICICIBANK';
$sc[1] = 'SBIN';
$sc[2] = 'HDFCBANK';
$sc[3] = 'KOTAKBANK';
$sc[4] = 'AXISBANK';
$sc[5] = 'PNB';
$sc[6] = 'BANKBARODA';
$sc[7] = 'BANKINDIA';
$sc[8] = 'YESBANK';
$sc[9] = 'VIJAYABANK';
$sc[10] = 'DENABANK';
$sc[11] = 'ALBK';
$sc[12] = 'KTKBANK';
$sc[13] = 'DHANBANK';
$sc[14] = 'DCB';
$sc[15] = 'ANDHRABANK';
$sc[16] = 'INDIANB';
$sc[17] = 'UCOBANK';
$sc[18] = 'UNIONBANK';
$sc[19] = 'SRTRANSFIN';
$sc[20] = 'LICHSGFIN';
$sc[21] = 'IOB';
$sc[22] = 'SYNDIBANK';
$sc[23] = 'CANBK';
$sc[24] = 'FEDERALBNK';
$sc[25] = 'HDFC';
$sc[26] = 'IDFC';
$sc[27] = 'IDBI';
$sc[28] = 'IFCI';
$sc[29] = 'RELCAPITAL';
$sc[30] = 'INDIAINFO';
$sc[31] = 'PFC';
$sc[32] = 'TATAMOTORS';
$sc[33] = 'BAJAJ-AUTO';
$sc[34] = 'MARUTI';
$sc[35] = 'HEROMOTOCO';
$sc[36] = 'ASHOKLEY';
$sc[37] = 'ESCORTS';
$sc[38] = 'TVSMOTOR';
$sc[39] = 'BHARATFORG';
$sc[40] = 'APOLLOTYRE';
$sc[41] = 'MRF';
$sc[42] = 'BOSCHLTD';
$sc[43] = 'EXIDEIND';
$sc[44] = 'DLF';
$sc[45] = 'UNITECH';
$sc[46] = 'HDIL';
$sc[47] = 'HCC';
$sc[48] = 'NCC';
$sc[49] = 'IBREALEST';
$sc[50] = 'GODREJIND';
$sc[51] = 'SOBHA';
$sc[52] = 'JPASSOCIAT';
$sc[53] = 'APIL';
$sc[54] = 'LITL';
$sc[55] = 'GMRINFRA';
$sc[56] = 'IVRCLINFRA';
$sc[57] = 'RELIANCE';
$sc[58] = 'ONGC';
$sc[59] = 'GSPL';
$sc[60] = 'PETRONET';
$sc[61] = 'MRPL';
$sc[62] = 'ABAN';
$sc[63] = 'GAIL';
$sc[64] = 'BPCL';
$sc[65] = 'HINDPETRO';
$sc[66] = 'OIL';
$sc[67] = 'HINDOILEXP';
$sc[68] = 'ESSAROIL';
$sc[69] = 'IOC';
$sc[70] = 'COALINDIA';
$sc[71] = 'CAIRN';
$sc[72] = 'TATASTEEL';
$sc[73] = 'SAIL';
$sc[74] = 'HINDALCO';
$sc[75] = 'STER';
$sc[76] = 'JSWSTEEL';
$sc[77] = 'JINDALSTEL';
$sc[78] = 'JINDALSAW';
$sc[79] = 'PUNJLLOYD';
$sc[80] = 'BHUSANSTL';
$sc[81] = 'SESAGOA';

$sc[83] = 'WELCORP';

$sc[85] = 'GMDCLTD';

$sc[87] = 'INFY';
$sc[88] = 'TCS';
$sc[89] = 'WIPRO';
$sc[90] = 'PATNI';
$sc[91] = 'HCLTECH';
$sc[92] = 'TECHM';
$sc[93] = 'POLARIS';
$sc[94] = 'MPHASIS';
$sc[95] = 'OFSS';

$sc[97] = 'ROLTA';
$sc[98] = 'HEXAWARE';
$sc[99] = 'EDUCOMP';

$sc[101] = 'LT';
$sc[102] = 'BHEL';
$sc[103] = 'ABB';
$sc[104] = 'SIEMENS';
$sc[105] = 'CROMPGREAV';
$sc[106] = 'VOLTAS';
$sc[107] = 'VIDEOIND';

$sc[109] = 'BEML';
$sc[110] = 'ACC';

$sc[112] = 'GRASIM';
$sc[113] = 'INDIACEM';
$sc[114] = 'ULTRACEMCO';

$sc[116] = 'BHARTIARTL';
$sc[117] = 'RCOM';
$sc[118] = 'IDEA';
$sc[119] = 'ONMOBILE';
$sc[120] = 'MTNL';
$sc[121] = 'TTML';
$sc[122] = 'TATACOMM';
$sc[123] = 'ITC';
$sc[124] = 'HINDUNILVR';
$sc[125] = 'DABUR';
$sc[126] = 'COLPAL';
$sc[127] = 'MCLEODRUSS';
$sc[128] = 'MCDOWELL-N';
$sc[129] = 'BATAINDIA';
$sc[130] = 'RELINFRA';
$sc[131] = 'RPOWER';
$sc[132] = 'TATAPOWER';
$sc[133] = 'POWERGRID';
$sc[134] = 'NTPC';
$sc[135] = 'JPPOWER';
$sc[136] = 'GVKPIL';
$sc[137] = 'BGRENERGY';
$sc[138] = 'ADANIENT';
$sc[139] = 'ADANIPOWER';
$sc[140] = 'BFUTILITIE';
$sc[141] = 'HAVELLS';
$sc[142] = 'JSWENERGY';
$sc[143] = 'NHPC';
$sc[144] = 'NMDC';
$sc[145] = 'RECLTD';

$sc[147] = 'PTC';
$sc[148] = 'BALRAMCHIN';
$sc[149] = 'BAJAJHIND';
$sc[150] = 'RENUKA';
$sc[151] = 'CHAMBLFERT';
$sc[152] = 'TATACHEM';
$sc[153] = 'ORCHIDCHEM';
$sc[154] = 'UNIPHOS';
$sc[155] = 'GUJFLUORO';
$sc[156] = 'SCI';
$sc[157] = 'GESHIP';
$sc[158] = 'ABGSHIP';
$sc[159] = 'JETAIRWAYS';
$sc[160] = 'INDHOTEL';
$sc[161] = 'SUNTV';
$sc[162] = 'DISHTV';
$sc[163] = 'ZEEL';
$sc[164] = 'SUNPHARMA';
$sc[165] = 'CIPLA';
$sc[166] = 'RANBAXY';
$sc[167] = 'DRREDDY';
$sc[168] = 'FORTIS';
$sc[169] = 'BIOCON';
$sc[170] = 'AUROPHARMA';
$sc[171] = 'PIRHEALTH';
$sc[172] = 'LUPIN';
$sc[173] = 'GLAXO';
$sc[174] = 'DIVISLAB';
$sc[175] = 'OPTOCIRCUI';
$sc[176] = 'JUBLFOOD';
$sc[177] = "BSEBANK";
$sc[178] = "BSEAUTO";
$sc[179] = "BSEOILGAS";
$sc[180] = "BSEMIDCAP";
$sc[181] = "BSESMLCAP";
$sc[182] = "BSEMETAL";
$sc[183] = "BSEFMCG";
$sc[184] = "BSEREALTY";
$sc[185] = "BSEIT";
$sc[186] = "BSETECK";
$sc[187] = "BSECG";
$sc[188] = "BSEPOWER";
$sc[189] = "BSEHEALTH";
$sc[190] = "BSECD";
$sc[191] = "BSEHC";
$sc[192] = "BSEPSU";
$sc[193] = "BSE100";
$sc[194] = "BSE200";
$sc[195] = "BSE500";
$sc[196] = "JUNIOR";
$sc[197] = "NIFTY";

$file = "TP.csv";
for ( $i = 0; $i <= 197; $i++) { 

$url = $sc[$i]."temp".".txt";

$ltp = file_get_contents($url);

$row = 0;
$fille = fopen($file, "r");
while (($data = fgetcsv($fille, 8000, ",")) !== FALSE) {

if ( ($data[0] == $sc[$i]) && ($data[1] == "EQ")) 
{  
$avgp = $data[9]/$data[8]; 
$high = $data[3];
$low = $data[4];}
       $row++; 
}
fclose($fille);

$lc = (($ltp - $low)/$low)*100;
$hc = (($ltp - $high)/$high)*100;
echo $sc[$i]."low chg:".$lc."hi chg:".$hc."\r\n"."<BR>";

}
?>